#+Title: pocket_php: Blazing fast MVC implementation for PHP7+
#+Author: AlexHG


[[http://www.gnu.org/licenses/gpl-3.0.html][http://img.shields.io/:license-mit-blue.svg]]

  - Features: [[https://xenid.net/projects?nav=pocket_php][https://xenspace.net/projects?nav=pocket_php]]
  - Devlog: [[https://xenid.net.localhost/journal?category=pocketphp_devlog][https://xenspace.net/journal?category=pocketphp_devlog]]


* Dependencies
  - [[https://php.net/][PHP7+]]
  - [[https://www.sqlite.org/index.html][SQLite]]
  - [[https://www.nginx.com/][NGINX]] (recommended)

  Although pocket_php can run on any web server that imitates the provided NGINX configuration, pocket_php
  is developed primarily for NGINX.

* Installation

1. Install PHP7 and NGINX

I recommend installing both through your package manager, if your using a debian based distro simply:

#+BEGIN_SRC 
sudo apt-get update
sudo apt-get install php7.2 php7.2-fpm php7.2-sqlite php7.2-curl nginx
#+END_SRC

2. Clone the pcoket_php repository and set the server permissions

#+BEGIN_SRC 
git clone https://gitlab.com/Alex-HG/pocket_php
mv -r pocket_php /var/www/html/
sudo chown -R username:www-data /var/www/html/pocket_php
sudo chmod -R 755 /var/www/html/pocket_php
#+END_SRC

3. Configure NGINX

Remember to modify the provided nginx virtual server configuration file to match your desired settings.

#+BEGIN_SRC 
sudo mv /var/www/html/pocket_php/static/text_files/nginx_config /etc/nginx/sites-available/default

sudo systemctl restart php7.x-fpm.service
sudo systemctl restart nginx.service
#+END_SRC

You might have to configure the php7 socket permissions as well.

3b. Configure HTTPS

Uncomment the SSL Settings block and modify the following lines in the included nginx.conf

#+BEGIN_SRC 
    ssl_certificate     {path to certificate}
    ssl_certificate_key {path to key}
#+END_SRC

Then, uncomment the HTTPS ENABLED (and comment out the HTTPS DISABLED) block in sites-available/default

4. Configure pocket_php 

All the relevant configuration lies in app/configure.php, note that the core directory holds the sqlite database file and thus both the file and folder must be writeable by the web server.

#+BEGIN_SRC 
sudo chown -R username:www-data /var/www/html/pocket_php/core/
sudo chmod -R 755 /var/www/html/pocket_php/app/core/pocket_php.db
#+END_SRC

* Included Example website and documentation

pocket_php comes with an example site and user guide that, serves as its main documentation.

#+html: <p align="center"><img src="app/static/images/exampleSite.png" /></p>

See the "user guide" section for a more thorough explanation.

 
For a more thorough installation and configuration guide, visit [[https://xenid.net/projects?nav=pocket_php][https://xenid.net/projects?nav=pocket_php]]
